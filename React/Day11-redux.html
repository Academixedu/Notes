Let's build a simple counter app using Redux. The app will allow users to increment and decrement a counter.

### Step-by-Step Guide:

#### 1. Set Up the Project

First, set up a new React project using Create React App if you haven't already:

```sh
npx create-react-app redux-counter-app
cd redux-counter-app
```

#### 2. Install Redux and React-Redux

Next, install the necessary packages for Redux and React-Redux:

```sh
npm install redux react-redux
```

#### 3. Create Redux Components

**a. Create Action Types**

In the `src` folder, create a file named `actionTypes.js` and define the action types:

```js
// src/actionTypes.js
export const INCREMENT = 'INCREMENT';
export const DECREMENT = 'DECREMENT';
```

**b. Create Actions**

Create a file named `actions.js` and define the action creators:

```js
// src/actions.js
import { INCREMENT, DECREMENT } from './actionTypes';

export const increment = () => ({
  type: INCREMENT,
});

export const decrement = () => ({
  type: DECREMENT,
});
```

**c. Create Reducer**

Create a file named `reducer.js` and define the reducer:

```js
// src/reducer.js
import { INCREMENT, DECREMENT } from './actionTypes';

const initialState = {
  count: 0,
};

const counterReducer = (state = initialState, action) => {
  switch (action.type) {
    case INCREMENT:
      return {
        ...state,
        count: state.count + 1,
      };
    case DECREMENT:
      return {
        ...state,
        count: state.count - 1,
      };
    default:
      return state;
  }
};

export default counterReducer;
```

**d. Create Store**

Create a file named `store.js` and configure the store:

```js
// src/store.js
import { createStore } from 'redux';
import counterReducer from './reducer';

const store = createStore(counterReducer);

export default store;
```

#### 4. Set Up React Components

**a. Set Up Provider**

In `src/index.js`, wrap your app with the `Provider` and pass the store to it:

```js
// src/index.js
import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
import App from './App';
import { Provider } from 'react-redux';
import store from './store';

ReactDOM.render(
  <Provider store={store}>
    <App />
  </Provider>,
  document.getElementById('root')
);
```

**b. Create Counter Component**

Create a file named `Counter.js` in the `src` folder and define the counter component:

```js
// src/Counter.js
import React from 'react';
import { useSelector, useDispatch } from 'react-redux';
import { increment, decrement } from './actions';

const Counter = () => {
  const count = useSelector((state) => state.count);
  const dispatch = useDispatch();

  return (
    <div>
      <h1>Counter: {count}</h1>
      <button onClick={() => dispatch(increment())}>Increment</button>
      <button onClick={() => dispatch(decrement())}>Decrement</button>
    </div>
  );
};

export default Counter;
```

**c. Use Counter Component in App**

Update `App.js` to use the `Counter` component:

```js
// src/App.js
import React from 'react';
import './App.css';
import Counter from './Counter';

function App() {
  return (
    <div className="App">
      <header className="App-header">
        <Counter />
      </header>
    </div>
  );
}

export default App;
```

#### 5. Run the App

Now, run your app:

```sh
npm start
```

You should see a simple counter app with increment and decrement buttons that update the counter state using Redux.

Sure! Here's a step-by-step explanation of what happens when you click the "Increment" button in the Redux counter app:

### Code for Reference:

```js
import React from 'react';
import { useSelector, useDispatch } from 'react-redux';
import { increment, decrement } from './actions';

const Counter = () => {
  const count = useSelector((state) => state.count);
  const dispatch = useDispatch();

  return (
    <div>
      <h1>Counter: {count}</h1>
      <button onClick={() => dispatch(increment())}>Increment</button>
      <button onClick={() => dispatch(decrement())}>Decrement</button>
    </div>
  );
};

export default Counter;
```

### Step-by-Step Explanation:

1. **User Clicks the "Increment" Button**:
   - The user clicks the button labeled "Increment".
   ```js
   <button onClick={() => dispatch(increment())}>Increment</button>
   ```

2. **Event Handler Triggered**:
   - The `onClick` event handler for the "Increment" button is triggered.
   - The event handler executes the following code:
   ```js
   () => dispatch(increment())
   ```

3. **Dispatch `increment` Action**:
   - The `dispatch` function, provided by `useDispatch`, is called with the result of `increment()`.
   ```js
   dispatch(increment())
   ```

4. **Action Creator `increment` Called**:
   - The `increment` action creator is called.
   ```js
   export const increment = () => ({
     type: INCREMENT,
   });
   ```
   - This returns an action object with the type `INCREMENT`.
   ```js
   { type: INCREMENT }
   ```

5. **Redux Store Receives Action**:
   - The `dispatch` function sends the action object to the Redux store.
   - The Redux store receives the action and forwards it to the reducer.

6. **Reducer Processes Action**:
   - The reducer function, defined in `reducer.js`, processes the action.
   ```js
   import { INCREMENT, DECREMENT } from './actionTypes';

   const initialState = {
     count: 0,
   };

   const counterReducer = (state = initialState, action) => {
     switch (action.type) {
       case INCREMENT:
         return {
           ...state,
           count: state.count + 1,
         };
       case DECREMENT:
         return {
           ...state,
           count: state.count - 1,
         };
       default:
         return state;
     }
   };

   export default counterReducer;
   ```
   - The reducer checks the action type. Since the action type is `INCREMENT`, it increments the `count` by 1.
   ```js
   case INCREMENT:
     return {
       ...state,
       count: state.count + 1,
     };
   ```

7. **New State Returned**:
   - The reducer returns the new state with the updated `count`.
   ```js
   {
     count: state.count + 1,
   }
   ```

8. **Store Updates State**:
   - The Redux store updates its state with the new state returned by the reducer.

9. **React Component Re-Renders**:
   - The `Counter` component is subscribed to the Redux store through the `useSelector` hook.
   - When the state in the store updates, the `useSelector` hook extracts the updated `count` value.
   ```js
   const count = useSelector((state) => state.count);
   ```

10. **UI Updates**:
    - The `Counter` component re-renders with the new `count` value.
    - The updated count is displayed in the `<h1>` element.
    ```js
    <h1>Counter: {count}</h1>
    ```

### Summary:

When the "Increment" button is clicked, an action is dispatched to the Redux store. The reducer processes this action to update the state, incrementing the counter. The updated state causes the `Counter` component to re-render, displaying the new counter value in the UI. This flow ensures that the state is managed predictably and that the UI remains in sync with the state.
###################################################################
###################################################################
### Step-by-Step Tutorial

#### Step 1: Create a New React Project
```bash
npx create-react-app movie-app
cd movie-app
```

#### Step 2: Install Required Dependencies
```bash
npm install @mui/material @emotion/react @emotion/styled react-router-dom axios @reduxjs/toolkit react-redux
```

### Step 3: Get TMDB API Key
1. **Sign up for an API key from [The Movie Database (TMDB)](https://www.themoviedb.org/documentation/api)**.

### Step 4: Create API Service
1. **Create a new file named `api.js` in the `src` folder:**
```javascript
import axios from 'axios';

const API_KEY = 'YOUR_TMDB_API_KEY';
const BASE_URL = 'https://api.themoviedb.org/3';

export const fetchMovies = async (genreId = null) => {
  const genreQuery = genreId ? `&with_genres=${genreId}` : '';
  console.log(`Fetching movies with genre: ${genreId}`); // Debugging message
  const response = await axios.get(
    `${BASE_URL}/discover/movie?api_key=${API_KEY}${genreQuery}`
  );
  console.log("API Response:", response.data.results); // Debugging message
  return response.data.results;
};

export const fetchMovieDetails = async (id) => {
  const response = await axios.get(
    `${BASE_URL}/movie/${id}?api_key=${API_KEY}`
  );
  return response.data;
};
```

### Step 5: Create Redux Slice
1. **Create a new file named `movieSlice.js` in the `src` folder:**
```javascript
import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';
import { fetchMovies, fetchMovieDetails } from './api';

export const getMovies = createAsyncThunk(
  'movies/getMovies',
  async (genreId) => {
    const response = await fetchMovies(genreId);
    console.log("Fetched movies for genre:", genreId, response); // Debugging message
    return response;
  }
);

export const getMovieDetails = createAsyncThunk(
  'movies/getMovieDetails',
  async (id) => {
    const response = await fetchMovieDetails(id);
    return response;
  }
);

const movieSlice = createSlice({
  name: 'movies',
  initialState: {
    movies: [],
    movieDetails: null,
    status: null,
    selectedGenre: null,
  },
  reducers: {
    setGenre: (state, action) => {
      console.log("Genre set to:", action.payload); // Debugging message
      state.selectedGenre = action.payload;
    },
  },
  extraReducers: (builder) => {
    builder
      .addCase(getMovies.pending, (state) => {
        state.status = 'loading';
      })
      .addCase(getMovies.fulfilled, (state, action) => {
        console.log("Movies fetched successfully:", action.payload); // Debugging message
        state.movies = action.payload;
        state.status = 'succeeded';
      })
      .addCase(getMovies.rejected, (state) => {
        state.status = 'failed';
      })
      .addCase(getMovieDetails.pending, (state) => {
        state.status = 'loading';
      })
      .addCase(getMovieDetails.fulfilled, (state, action) => {
        state.movieDetails = action.payload;
        state.status = 'succeeded';
      })
      .addCase(getMovieDetails.rejected, (state) => {
        state.status = 'failed';
      });
  },
});

export const { setGenre } = movieSlice.actions;

export default movieSlice.reducer;
```

### Step 6: Create Redux Store
1. **Create a new file named `store.js` in the `src` folder:**
```javascript
import { configureStore } from '@reduxjs/toolkit';
import movieReducer from './movieSlice';

export const store = configureStore({
  reducer: {
    movies: movieReducer,
  },
});
```

### Step 7: Set Up React Router
1. **Update `App.js` to include routing:**
```javascript
import React from 'react';
import { Route, Routes } from 'react-router-dom';
import { Grid } from '@mui/material';
import MovieList from './MovieList';
import MovieDetails from './MovieDetails';
import Sidebar from './Sidebar';

function App() {
  return (
    <Grid container>
      <Grid item xs={12} sm={3}>
        <Sidebar />
      </Grid>
      <Grid item xs={12} sm={9}>
        <Routes>
          <Route path="/" element={<MovieList />} />
          <Route path="/movie/:id" element={<MovieDetails />} />
        </Routes>
      </Grid>
    </Grid>
  );
}

export default App;
```

### Step 8: Create Sidebar Component
1. **Create a new file named `Sidebar.js` in the `src` folder:**
```javascript
import React from 'react';
import { useDispatch } from 'react-redux';
import { setGenre, getMovies } from './movieSlice';
import { Button, List, ListItem } from '@mui/material';

const Sidebar = () => {
  const dispatch = useDispatch();

  const handleGenreClick = (genreId) => {
    console.log("Genre clicked:", genreId); // Debugging message
    dispatch(setGenre(genreId));
    dispatch(getMovies(genreId));
  };

  return (
    <div>
      <List>
        <ListItem>
          <Button variant="contained" onClick={() => handleGenreClick(28)}>
            Action
          </Button>
        </ListItem>
        <ListItem>
          <Button variant="contained" onClick={() => handleGenreClick(35)}>
            Comedy
          </Button>
        </ListItem>
        {/* Add more genres as needed */}
      </List>
    </div>
  );
};

export default Sidebar;
```

### Step 9: Create Movie List Component
1. **Create a new file named `MovieList.js` in the `src` folder:**
```javascript
import React, { useEffect } from 'react';
import { useDispatch, useSelector } from 'react-redux';
import { getMovies } from './movieSlice';
import { Grid, Card, CardMedia, CardContent, Typography, Rating } from '@mui/material';
import { Link } from 'react-router-dom';

const MovieList = () => {
  const dispatch = useDispatch();
  const { movies, status, selectedGenre } = useSelector((state) => state.movies);

  useEffect(() => {
    console.log("Selected Genre in MovieList:", selectedGenre); // Debugging message
    dispatch(getMovies(selectedGenre));
  }, [dispatch, selectedGenre]);

  useEffect(() => {
    console.log("Movies in state:", movies); // Debugging message
  }, [movies]);

  if (status === 'loading') return <div>Loading...</div>;
  if (status === 'failed') return <div>Error loading data</div>;

  return (
    <Grid container spacing={3}>
      {movies.map((movie) => (
        <Grid item xs={6} sm={4} md={3} key={movie.id}>
          <Link to={`/movie/${movie.id}`} style={{ textDecoration: 'none' }}>
            <Card>
              <CardMedia
                component="img"
                image={`https://image.tmdb.org/t/p/w500/${movie.poster_path}`}
                alt={movie.title}
              />
              <CardContent>
                <Typography variant="h6">{movie.title}</Typography>
                <Rating value={movie.vote_average / 2} precision={0.5} readOnly />
              </CardContent>
            </Card>
          </Link>
        </Grid>
      ))}
    </Grid>
  );
};

export default MovieList;
```

### Step 10: Create Movie Details Component
1. **Create a new file named `MovieDetails.js` in the `src` folder:**
```javascript
import React, { useState, useEffect } from 'react';
import { useParams } from 'react-router-dom';
import { fetchMovieDetails } from './api';
import { Typography, Card, CardMedia, CardContent } from '@mui/material';

const MovieDetails = () => {
  const { id } = useParams();
  const [movie, setMovie] = useState(null);

  useEffect(() => {
    const getMovieDetails = async () => {
      const movieData = await fetchMovieDetails(id);
      setMovie(movieData);
    };
    getMovieDetails();
  }, [id]);

  if (!movie) {
    return <div>Loading...</div>;
  }

  return (
    <Card>
      <CardMedia
        component="img"
        image={`https://image.tmdb.org/t/p/w500/${movie.poster_path}`}
        alt={movie.title}
      />
      <CardContent>
        <Typography variant="h4">{movie.title}</Typography>
        <Typography variant="body1">{movie.overview}</Typography>
        <Typography variant="body2">Release Date: {movie.release_date}</Typography>
      </CardContent>
    </Card>
  );
};

export default MovieDetails;
```

### Step 11: Integrate Redux with React
1. **Update `index.js` to integrate Redux with React:**
```javascript
import React from 'react';
import ReactDOM from '

react-dom/client';
import { BrowserRouter as Router } from 'react-router-dom';
import { Provider } from 'react-redux';
import { store } from './store';
import App from './App';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <React.StrictMode>
    <Provider store={store}>
      <Router>
        <App />
      </Router>
    </Provider>
  </React.StrictMode>
);
```

### Step 12: Run the App
1. **Start the React app:**
```bash
npm start
```

### Summary and Console Messages
- Ensure the API key is correctly replaced in `api.js`.
- Monitor the console for debugging messages:
  - `Fetching movies with genre: <genreId>`
  - `API Response: <response>`
  - `Genre clicked: <genreId>`
  - `Genre set to: <genreId>`
  - `Fetched movies for genre: <genreId> <response>`
  - `Movies fetched successfully: <response>`
  - `Selected Genre in MovieList: <genreId>`
  - `Movies in state: <movies>`

These console messages help to trace the flow of data from the API call to the Redux state and finally to the component rendering.

With this tutorial, you should have a fully functional movie listing application with genre filtering using React, Redux, and TMDB API.
